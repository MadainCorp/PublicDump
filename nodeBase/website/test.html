<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Test Page</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/scripts/framework/api.js"></script>
    <script>

        function send() {
            if (validParams())
                api.call($('#id').val(), $('#method').val(), $('#params').val(),
                    function (data) {
                        alert('got it ' + JSON.stringify(data));
                    }
                );
        }

        function validParams() {
            try{
                JSON.parse($('#params').val());
                return true;
            }
            catch (e)
            {
                alert("Bad Params: " + e.message);
                return false;
            }
        }

    </script>    
</head>
<body>

    ID:<br/>     <input id="id" type="text" value="test" /><br />
    method: <br/><input id="method" type="text" value="test" /><br />
    Params:<br/><textarea id="params" rows="6" cols="120">{"test":1}</textarea><br />    
    <button onclick="send()" style="padding:20px;">Send</button>    
    
</body>
</html>
